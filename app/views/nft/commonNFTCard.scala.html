@import controllers.actions.LoginState
@import views.html.base.commonStringValue

@(collection: master.Collection, nft: master.NFT, liked: Option[Boolean])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: Option[LoginState])

<div class="singleNFTCard col-sm-6 col-md-12 col-lg-6 col-xl-4 mt-3">
    <div class="card border-0" style="cursor: pointer;">
        <div class="card-img rounded-0" onclick="viewNFT('@nft.fileName')">
            <img src="data:image/jpg;base64,@utilities.ImageProcess.decodeImageThumbnailData(nft.file)"/>
        </div>
        <div class="nft-detail p-3">
            <div class="d-flex flex-row gap-2 nft-creator-detail">
                <div class="creator-profile">
                    <img src="@routes.Assets.versioned("images/defaultCollectionProfile.png")" class="rounded-circle" width="34" height="34"/>
                </div>
                <div class="d-flex flex-column justify-content-between">
                    <span class="creator-name">
                        @commonStringValue(message = nft.name, id = utilities.IdGenerator.getRandomHexadecimal, length =  15)
                    </span>
                    <span class="creator-collection-name">@collection.name</span>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <div class="d-flex flex-row gap-1 align-items-center mt-3">
                    <div class=""><img class="align-middle" src="@routes.Assets.versioned("images/NFTCard/token.png")" width="24" height="27"/></div>
                    <div class="nft-mantle-price">--</div>
                    <div class="nft-dollar-price">($--)</div>
                </div>
                @if(loginState.nonEmpty) {
                    <div class="d-flex align-items-center gap-1 mt-3">
                        <span onclick="addRemoveWishlist(this, '@nft.fileName')">
                        @views.html.nft.commonCardWishlistButton(liked.getOrElse(false))
                        </span>
                        <div class="nft-likes" data-id="@nft.fileName">00</div>
                    </div>
                } else {
                    <div class="d-flex align-items-center gap-1 mt-3" onclick="getForm(@utilities.JsRoutes.getJsRouteString(constants.Form.SIGN_IN_WITH_CALLBACK.get, s"'/collection/${collection.id}'"))">
                        <span>
                        @views.html.nft.commonCardWishlistButton(false)
                        </span>
                        <div class="nft-likes" data-id="@nft.fileName">00</div>
                    </div>
                }
            </div>
        </div>
        <div class="m-0 nft-separator"></div>
        <div class="d-flex flex-row align-items-center justify-content-between nft-bottom">
            <div class="setting">
                <div class="dots">
                    <div class="dot"></div>
                </div>
            </div>
            @* <div class="buy-now-btn">@Messages(constants.View.BUYNOW)</div> *@
        </div>
    </div>
</div>