@import controllers.actions.LoginState
@import models.master.NFTProperty

@(collection: master.Collection, nft: master.NFT, nftProperties: Seq[NFTProperty], liked: Option[Boolean])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: Option[LoginState])

<div class="item item-center nftPreviewContainer">
    <div class="d-flex justify-content-between">
        <ul class="d-flex gap-3 leftOptions">
            <li class="active">@Messages(constants.View.OVERVIEW)</li>
        </ul>
        @if(collection.getWebsite.isDefined) {
            <ul class="d-flex gap-3 rightOptions">
                <li><a href="@collection.getWebsite.get" target="_blank">
                    <i class="bi bi-globe2 iconDefault iconMedium icon"></i>
                </a></li>
            </ul>
        }
    </div>
    <div class="mt-2 nftImagePreview">
        <a href="@nft.getS3Url" target="_blank">
            <div id="nftImage_@nft.id">
                @if(constants.File.ALL_IMAGES_WITH_GIF.contains(nft.fileExtension)) {
                    <img src="@nft.getS3Url">
                } else {
                    <audio controls>
                        <source src="@nft.getS3Url">
                    </audio>
                }
            </div>
        </a>
    </div>
    <div class="nftPropertyContainer">
        <div class="title">
            <ul class="d-flex flex-row justify-content-between">
                <li>@Messages(constants.View.PROPERTIES)</li>
                <li><i class="bi bi-chevron-up iconDefault dropdownIcon" id="showHidePropertyButton" onclick="openPropertyList()"></i></li>
            </ul>
        </div>
        <div class="propertyListContainer">
            <div class="d-flex flex-row flex-wrap gap-3 propertyList">
            @nftProperties.filter(_.`value` != "").map { property =>
                <div class="singleProperty">
                    <div class="propertyName">@property.name</div>
                    <div class="mt-2 propertyValue">
                    @if(property.meta){
                        @defining(property.`value`) { propertyValue =>
                            @propertyValue
                        }
                    } else {
                        *****
                    }
                    </div>
                </div>
            }
            </div>
        </div>
    </div>
</div>
<script src="@utilities.PublicResource.getVersionedRoute("javascripts/nfts/view.js")" type="text/javascript"></script>
<script>
        setSharableLink("@collection.getCoverFileURL");
</script>