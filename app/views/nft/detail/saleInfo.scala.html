@import models.master.Sale
@import controllers.actions.LoginState

@(sales: Seq[Sale], allWhitelistIds: Seq[String])(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: Option[LoginState])

@if(loginState.isDefined) {
    @sales.find(x => allWhitelistIds.contains(x.whitelistId)).fold("")(_.collectionId)
} else {
    @sales.length
}