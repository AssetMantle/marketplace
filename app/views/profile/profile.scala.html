@import controllers.actions.LoginState
@import views.html.base.commonHorizontalSwitcher
@import scala.collection.immutable.ListMap

@(accountId: String)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, optionalLoginState: Option[LoginState])

<div class="item item-center centerContainer">
    <div class="centerCard">
        <div class="contentContainer">
            @if(optionalLoginState.isDefined && optionalLoginState.fold("")(_.username) == accountId) {
                @commonHorizontalSwitcher(
                    ListMap(
                        constants.View.CREATED -> routes.javascript.CollectionController.createdSection,
                        constants.View.WHITELIST -> routes.javascript.WhitelistController.whitelistSection,
                        constants.View.WISHLIST -> routes.javascript.WishlistController.wishlistSection
                    ),
                    Symbol(constants.View.CREATED + "_PARAMETERS") -> s"'${accountId}'",
                    Symbol(constants.View.WISHLIST + "_PARAMETERS") -> s"'${accountId}'"
                )
            } else {
                @commonHorizontalSwitcher(
                    ListMap(
                        constants.View.CREATED -> routes.javascript.CollectionController.createdSection,
                        constants.View.WISHLIST -> routes.javascript.WishlistController.wishlistSection
                    ),
                    Symbol(constants.View.CREATED + "_PARAMETERS") -> s"'${accountId}'",
                    Symbol(constants.View.WISHLIST + "_PARAMETERS") -> s"'${accountId}'"
                )
            }
        </div>
    </div>
</div>

<script>
        checkAndPushState(jsRoutes.controllers.ProfileController.viewProfile('@accountId').url, '@accountId', "profile");
</script>
