@import controllers.actions.LoginState
@import views.html.base.buttons._

@(whitelists: Seq[master.Whitelist], lastIndex: Int)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState)

@whitelists.zipWithIndex.map { case (x, index) =>
<tr>
    <td class="text-end tableFieldNo">@(lastIndex + index + 1)</td>
    <td class="tableFieldName" data-toggle="tooltip" data-placement="top" title="@x.name">@x.name</td>
    <td class="text-end tableFieldMaxMembers">@x.maxMembers</td>
    <td id="startEpoch_@x.id" class="text-end tableFieldStartEpoch epochValue">@x.startEpoch</td>
    <td  id="endEpoch_@x.id" class="text-end tableFieldEndEpoch epochValue">@x.endEpoch</td>
    <td class="text-end tableFieldAction whitelistActionButton">
        <div class="d-flex gap-3">
            <div onclick="getForm(jsRoutes.controllers.WhitelistController.listMembers('@x.id'))">
                <i class="bi bi-person iconDefault iconMedium icon"></i>
            </div>
            <div data-toggle="tooltip" data-placement="top" title="@x.description">
                <i class="bi bi-info-circle iconDefault iconMedium"></i>
            </div>
            <div onclick="getForm(jsRoutes.controllers.WhitelistController.editWhitelistForm('@x.id'))">
                <i class="bi bi-pencil iconDefault iconMedium icon"></i>
            </div>
            <div>
                <div class="p-0 userAddressData username-data" data-value="@constants.CommonConfig.WebAppUrl.concat(s"""/acceptWhitelistInvite/${x.id}""")"></div>
                <div class="text-end copyIcon" onclick="copyToClipboard(this); showSnackbar('', '@Messages(constants.View.LINK_COPIED)', '@Messages(constants.View.NOTIFICATION_TITLE_INFO)');">
                    <i id="openWalletMenu" class="bi bi-share iconDefault iconMedium"></i>
                </div>
            </div>
        </div>
    </td>
</tr>
<script>
    epochToDateTime('startEpoch_@x.id');
    epochToDateTime('endEpoch_@x.id');
</script>
}