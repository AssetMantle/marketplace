@import models.master.Whitelist
@import views.html.base.buttons._

@(whitelist: Whitelist, maxReached: Boolean)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider)
<div class="modal-header mb-0">
    <h5 class="modal-title" id="staticBackdropLabel">@Messages(constants.View.WHITELIST_JOIN_TITLE)</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="closeModal()">
                &times;
    </button>
</div>
<div class="whitelistInfo form-address-box">
    <div class="form-address-box-item">
        <span class="address-box-label">@Messages(constants.View.WHITELIST_NAME)</span>
        <span class="address-box-text">
            <span class="username-data">@whitelist.name</span>
        </span>
    </div>
    <div class="form-address-box-item">
        <span class="address-box-label">@Messages(constants.View.WHITELIST_DESCRIPTION)</span>
        <span class="address-box-text">
            <span class="username-data">@whitelist.description</span>
        </span>
    </div>
    <div class="form-address-box-item">
        <span class="address-box-label">@Messages(constants.View.WHITELIST_MAX_MEMBERS)</span>
        <span class="address-box-text">
            <span class="username-data">@whitelist.maxMembers</span>
        </span>
    </div>
    <div class="form-address-box-item">
        <span class="address-box-label">@Messages(constants.View.WHITELIST_START_EPOCH)</span>
        <span class="address-box-text">
            <span class="username-data" id="startDate">@whitelist.startEpoch</span>
        </span>
    </div>
    <div class="form-address-box-item">
        <span class="address-box-label">@Messages(constants.View.WHITELIST_END_EPOCH)</span>
        <span class="address-box-text">
            <span class="username-data" id="expiryDate">@whitelist.endEpoch</span>
        </span>
    </div>
</div>

@if(!maxReached) {
    <div class="d-flex justify-content-end horizontal-align">
        @commonSecondaryButton(constants.View.CLOSE_WHITELIST_INVITE, JavaScript(s"""closeModal()"""))
        @commonPrimaryButton(constants.View.ACCEPT_WHITELIST_INVITE, JavaScript(s"""getForm(jsRoutes.controllers.WhitelistController.acceptInvite('${whitelist.id}'))"""))
    </div>
} else {
    <div class="d-flex gap-2 align-items-center justify-content-center mt-3 footerMessage">
        <i class="bi bi-info-circle iconError iconSmall"></i>
        <div class="errorMessage">@Messages(constants.View.WHITELIST_MAXIMUM_MEMBERS_REACHED)</div>
    </div>
}
<script>epochToDateTime("startDate")</script>
<script>epochToDateTime("expiryDate")</script>