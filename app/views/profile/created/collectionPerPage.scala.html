@import controllers.actions.LoginState
@import views.html.base.buttons.commonPrimaryCallButton
@import views.html.collection.commonCollectionCard

@(collections: Seq[master.Collection], collectionFiles: Seq[master.CollectionFile], drafts: Seq[masterTransaction.CollectionDraft], totalCollections: Int)(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: Option[LoginState])

@if(collections.nonEmpty || drafts.nonEmpty) {
    @drafts.map { draft =>
        <div class="mt-3 singleCollection singleCreatedCollection draftCollection">
            @commonCollectionCard(draft.toCollection, JavaScript(s"getForm(jsRoutes.controllers.CollectionController.editForm('${draft.id}'))"), collectionCoverFile = draft.coverFileName, collectionProfileFile = draft.profileFileName)
        </div>
    }
    @collections.map { collection =>
        <div class="mt-3 singleCollection singleCreatedCollection">
            @commonCollectionCard(collection, JavaScript(s"viewCollection('${collection.id}')"), collectionCoverFile = collectionFiles.find(x => x.id == collection.id && x.documentType == constants.Collection.File.COVER).map(_.fileName), collectionProfileFile = collectionFiles.find(x => x.id == collection.id && x.documentType == constants.Collection.File.PROFILE).map(_.fileName))
        </div>
    }
} else {
    @if(totalCollections == 0) {
        <div id="noCreatedCollectionsPerPage" class="noCollectionLeft"></div>
        <div id="noCollection" class="h-100 mt-3 d-flex flex-column justify-content-center align-items-center emptyCreated">
            <div class="message">@Messages(constants.View.NO_COLLECTION_FOUND)</div>
            <div class="d-flex justify-content-center horizontal-align">
            @commonPrimaryCallButton(constants.View.EXPLORE, routes.CollectionController.viewCollections(constants.View.DEFAULT_COLLECTION_SECTION))
            </div>
        </div>
    } else {}
}
<script src="@routes.Assets.versioned("javascripts/profile/created/collectionPerPage.js")" type="text/javascript"></script>
<script>checkNoCollection()</script>