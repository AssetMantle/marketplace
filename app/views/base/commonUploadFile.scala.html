@import controllers.actions.LoginState
@import views.html.base._
@import helper._
@import constants.File.FileUploadForm

@(fileUploadForm: FileUploadForm, id: String, documentType: String, errorMessage: String = "", label: String = "")(implicit requestHeader: RequestHeader, messagesProvider: MessagesProvider, loginState: LoginState = null)
<div class="uploadFileContainer">
    <div class="mb-2 uploadFileLabel">@Messages(label)</div>
    <div class="uploadForm">
        @CSRF.formField
        <div class="modalInfoBlock">

            <div id="uploadSelector_@documentType" class="h-100 centerText uploadBox">
                <div class="d-flex flex-column justify-content-between h-100">
                    <div class="text-center">
                        <i class="bi bi-cloud-upload iconDefault uploadIcon"></i>
                        <span class="uploadIcon" cmuk-icon="cloud-upload"></span>
                        <div class="dropBox">
                        @Messages(constants.View.DROP_FILE)
                        </div>
                        <p class="centerText">@Messages(constants.View.OR)</p>
                    </div>
                    <div class="text-center">
                        <button type="button" class="secondaryButton" id="browseUploadButton_@documentType">@Messages(constants.View.BROWSE)</button>
                    </div>
                </div>
            </div>

            <div id="uploader_@documentType" class="centerText uploader h-100">
                <div class="d-flex flex-column gap-3 justify-content-between h-100">
                    <div class="text-center">
                        <div id="fileName_@documentType" class="fileName"></div>
                        <br>
                        <div class="progressContainer">
                            <div class="progressBar" id="fileUploadProgressBar_@documentType"></div>
                        </div>
                    </div>

                    <div id="uploadControls_@documentType">
                        <div class="mt-0">
                            <button type="button" class="secondaryButton" id="uploadButton_@documentType">@Messages(constants.View.UPLOAD)</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="uploadCompletionMessage_@documentType" class=""></div>

        </div>
    </div>
</div>
<script>uploadFile(@utilities.JsRoutes.getJsRouteFunction(fileUploadForm.store), @utilities.JsRoutes.getJsRouteFunction(fileUploadForm.upload), '@id', '@documentType', '@fileUploadForm.fileTypes.mkString("_")', @fileUploadForm.maxFileSize)</script>